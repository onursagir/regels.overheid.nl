name: Changesets - Gateway
on: 
  workflow_call:
    inputs: 
      name: 
        type: string
        required: true
      version: 
        type: string
        required: true
jobs:
  release-cms:
    if: ${{ inputs.name == 'cms' }}
    uses: ./.github/workflows/build-push-deploy-cms.yml
    secrets: inherit
    with: 
      version: ${{ inputs.version }}
  release-web:
    if: ${{ inputs.name == 'web' }}
    uses: ./.github/workflows/build-push-deploy-web.yml
    secrets: inherit
    with: 
      version: ${{ inputs.version }}
  release-docs:
    if: ${{ inputs.name == 'docs' }}
    uses: ./.github/workflows/build-push-deploy-web.yml
    secrets: inherit
    with: 
      version: ${{ inputs.version }}
  release-docs-beta:
    if: ${{ inputs.name == 'docs-beta' }}
    uses: ./.github/workflows/build-push-deploy-web.yml
    secrets: inherit
    with: 
      version: ${{ inputs.version }}